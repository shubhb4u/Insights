<template lwc:render-mode="light">
    <c-search-results
        search-results={searchResults}
        results-layout={resultsLayout}
        grid-column-spacing={gridColumnSpacing}
        grid-row-spacing={gridRowSpacing}
        grid-max-columns-displayed={gridMaxColumnsDisplayed}
        list-row-spacing={listRowSpacing}
        show-product-image={showProductImage}
        show-negotiated-price={showNegotiatedPrice}
        show-original-price={showOriginalPrice}
        show-call-to-action-button={showCallToActionButton}
        negotiated-price-text-size={negotiatedPriceTextSize}
        negotiated-price-text-color={negotiatedPriceTextColor}
        original-price-text-size={originalPriceTextSize}
        original-price-text-color={originalPriceTextColor}
        add-to-cart-button-text={addToCartButtonText}
        add-to-cart-button-style={addToCartButtonStyle}
        add-to-cart-button-processing-text={addToCartButtonProcessingText}
        view-options-button-text={viewOptionsButtonText}
        card-content-mapping={normalizedCardContentMapping}
        card-background-color={cardBackgroundColor}
        card-alignment={cardAlignment}
        card-border-color={cardBorderColor}
        card-border-radius={cardBorderRadius}
        card-divider-color={cardDividerColor}
        current-page={currentPage}
        onaddproducttocart={handleAddToCart}
        onshowproduct={handleNavigateToProductPage}
        onupdatecurrentpage={handleUpdateCurrentPage}
        quantity-selector-config={quantitySelectorConfig}
    >
    </c-search-results>

    <template if:true={searchResults.cardCollection}>
        <template for:each={searchResults.cardCollection} for:item="product">
            <div key={product.id} class="product-tile">
                <img src="https://etgdigital6-dev-ed.develop.my.site.com/InsightsB2B/sfsites/c/cms/delivery/media/MC3FNYP7YPFNANRETVTABP3EMEEU?version=1.1&channelId=0apak000000JZTW&oid=00Dak000008AQzJ&width=330&height=330" 
                class="product-image" loading="lazy" />
                <h2 class="product-name">{product.name}</h2>
                <div class="product-price">
                    <template if:true={showOriginalPrice}>
                        <span class="original-price" style="color: red;font-weight: bold;">{product.originalPrice}</span>
                    </template>
                    <template if:true={showNegotiatedPrice}>
                        <span class="negotiated-price" style="color: red;font-weight: bold;">{product.negotiatedPrice}</span>
                    </template>
                </div>
            </div>

            <c-builder-product-quantity-selector
                key={product.id}
                data-product-id={product.id}
                minimum={minimum}
                maximum={maximum}
                step={quantitySelectorStep}
                label={quantitySelectorLabel}
                hide-buttons={quantitySelectorHideButtons}
                hide-label={quantitySelectorHideLabel}
                minimum-value-guide-text={quantitySelectorMinimumValueGuideText}
                maximum-value-guide-text={quantitySelectorMaximumValueGuideText}
                step-value-guide-text={quantitySelectorStepValueGuideText}
                onvaluechanged={handleQuantityChanged}
            >
            </c-builder-product-quantity-selector>

            <button 
                key={product.id}
                class="add-to-cart-button" 
                data-id={product.id} 
                onclick={handleAddToCart}>
                {addToCartButtonText}
            </button>
        </template>
    </template>
</template>